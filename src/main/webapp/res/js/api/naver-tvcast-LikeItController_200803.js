!function($){LikeItApiController=eg.Class.extend(eg.Component,{_isDuplication:!1,construct:function(options){this._domain=options.domain,this._serviceId=options.serviceId},like:function(contentId,bLike,fCallback){this._getTokenAndTimestamp(contentId,bLike,fCallback)},_getTokenAndTimestamp:function(contentId,bLike,fUserCallback){$.ajax({url:this._domain+"/v1/react/token",method:"GET",dataType:"jsonp",data:{isDuplication:this._isDuplication},success:$.proxy(function(res){$.proxy(this._like,this,res,contentId,bLike,fUserCallback)()},this)})},_like:function(res,contentId,bLike,fUserCallback){$.ajax({url:this._domain+"/v1/services/"+this._serviceId+"/contents/"+contentId,method:"GET",dataType:"jsonp",data:{isDuplication:this._isDuplication,reactionType:"like",guestToken:res.guestToken,timestamp:res.timestamp,_method:bLike?"POST":"DELETE",suppress_response_codes:!0},success:fUserCallback})},getLike:function(contentId,fUserCallback){$.ajax({url:this._domain+"/v1/search/contents",method:"GET",dataType:"jsonp",data:{q:this._serviceId+"["+contentId+"]",isDuplication:this._isDuplication},success:function(res){fUserCallback(res&&res.contents.length>0&&res.contents[0].reactions&&res.contents[0].reactions.length>0?{count:res.contents[0].reactions[0].count,isReacted:res.contents[0].reactions[0].isReacted}:{count:0,isReacted:!1})}})}})}(jQuery);