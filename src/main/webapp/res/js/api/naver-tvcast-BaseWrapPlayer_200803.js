const BaseWrapPlayer={init:function(options){this._assignVar(options),this._initPlayer()},_assignVar:function(options){this._init=!0,this._$playerEl=options.playerElementId?jQuery("#"+options.playerElementId):jQuery("#player"),this._$playerAuth=jQuery("#player_auth"),this._$playerCountry=jQuery("#player_country"),this._$player=void 0,this._serviceDomain=options.serviceDomain,this._sid=options.rmcSid,this._inKey=options.inKey,this._videoId=options.videoId,this._playerAuth=options.playerAuth,this._environment=options.env,this._autoPlay=!!options.autoPlay&&options.autoPlay,this._channelEmblem=options.channelEmblem,this._fallbackChannelEmblem=options.fallbackChannelEmblem,this._channelSubscriptionCount=options.channelSubscriptionCount,this._isExpanded=options.isGlobalExpand,this._photoInfraUrl=options.photoInfraUrl,this._startTime=options.startTime,this._defaultResolution=options.defaultResolution,this._currentClip=options.clip,this._nextClip=void 0,this._upgradeElementId=options.upgradeElementId,this._seekingTime=options.seekingTime,this._isShareType=options.isShareType,this._clipNo=options.clipNo,this._isAdult="Y"==options.isAdult,this._isPlay=!1,this._hasBeenPlayedToTheEnd=!1,this._focus=void 0==options.focus||options.focus,this._externalTrackingDataJson=options.smrTrackingData?JSON.stringify(options.smrTrackingData):void 0,this._reservedEndScreenChange=void 0,this._isShowingAd=!1,this._initSubtitle=!1,this._gladParam=options.gladParam,this._isFullScreen=!1,this._isTimestampReserved=!1,this._reservedTimestamp=0,this._reservedClickEvent={isResolutionClicked:!1,isFullScreenClicked:!1},this._isVolumeChangedBySetting=!1,this._isAdStopped=!1,this._currentSelectedResolution="",this._isSeekingBySetting=!1},_initPlayer:function(){this._warmupPlayer(),this._setSource(),""!=typeof this._gladParam&&null!=this._gladParam&&void 0!=this._gladParam&&this._setGladSource()},_warmupPlayer:function(){this._player=this._upgradeElementId?new naver.player.PrismPlayer.upgrade(document.getElementById(this._upgradeElementId)):new naver.player.PrismPlayer,this._$player=jQuery(this._player),this._$playerEl.append(this._player.shadowRoot),this._player.width="100%",this._player.height="100%",this._setComponent(),this._bindEvent()},_setComponent:function(){this._setChannelSubscriptionPanel(),this._setChannelEmblem(),this._setWideButton(),this._setContextMenu(),this._setHelpButton(),this._setSubtitleButton()},_setChannelSubscriptionPanel:function(){const channelSubscriptionPanel=this._player.getComponent("player-channel-subscription-panel");!!channelSubscriptionPanel&&!!this._channelSubscriptionCount&&channelSubscriptionPanel.setAttribute("count",this._getFormattedNumber(this._channelSubscriptionCount))},_getFormattedNumber:function(num){return void 0==num||num<=0?0:null==navigator.language||"ko-KR"==navigator.language||"ko"==navigator.language?num<1e4?"구독 "+num.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"명":num<1e6?"구독 "+(Math.floor(num/1e3)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"만명":num<1e8?"구독 "+Math.floor(num/1e4).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"만명":num<1e10?"구독 "+(Math.floor(num/1e7)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"억명":"구독 "+Math.floor(num/1e8).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"억명":num<1e3?"Subs "+num.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):num<1e6?"Subs "+Math.floor(num/1e3).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"K":num<1e8?"Subs "+(Math.floor(num/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"M":num<1e9?"Subs "+Math.floor(num/1e6).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"M":"Subs "+(Math.floor(num/1e8)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"B"},_setChannelEmblem:function(){if(this._channelEmblem){const channelSubscriptionThumb=this._player.getComponent("player-channel-subscription-thumb");channelSubscriptionThumb&&(channelSubscriptionThumb.setAttribute("imageUrl",this._channelEmblem),jQuery(channelSubscriptionThumb).on("error",jQuery.proxy(function(e){e.target.setAttribute("imageUrl",this._fallbackChannelEmblem)},this)))}},_setWideButton:function(){const wideButton=this._player.getComponent("player-viewmode-button");wideButton&&(wideButton.setAttribute("wideview",this._isExpanded),jQuery(wideButton).on("click",jQuery.proxy(function(e){this._isExpanded=!this._isExpanded,wideButton.setAttribute("wideview",this._isExpanded),"undefined"!=typeof clickcr&&this._isExpanded?clickcr("","rmc.wide","","",""):clickcr("","rmc.wideoff","","","")},this)))},_setContextMenu:function(){const copyAction=this._player.getComponent("player-copy-action"),contextMenu=this._player.getComponent("player-context-menu");contextMenu&&(jQuery(contextMenu).on("copyurl",jQuery.proxy(function(){if(!!copyAction&&copyAction.setAttribute("showing",!0),this._isIE())window.clipboardData.setData("Text",this._getUrl());else{const t=document.createElement("textarea");document.body.appendChild(t),t.value=this._getUrl(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},this)),jQuery(contextMenu).on("copyurltime",jQuery.proxy(function(){if(!!copyAction&&copyAction.setAttribute("showing",!0),this._isIE())window.clipboardData.setData("Text",this._getUrl()+"?t="+Math.floor(this._player.currentTime));else{const t=document.createElement("textarea");document.body.appendChild(t),t.value=this._getUrl()+"?t="+Math.floor(this._player.currentTime),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},this)),jQuery(contextMenu).on("copysourcecode",jQuery.proxy(function(){!!copyAction&&copyAction.setAttribute("showing",!0);const sourceCode="<iframe src='"+this._getEmbedUrl()+"?autoPlay=true' frameborder='no' scrolling='no' marginwidth='0' marginheight='0' WIDTH='544' HEIGHT='306' allow='autoplay' allowfullscreen></iframe>";if(this._isIE())window.clipboardData.setData("Text",sourceCode);else{const t=document.createElement("textarea");document.body.appendChild(t),t.value=sourceCode,t.select(),document.execCommand("copy"),document.body.removeChild(t)}},this)))},_getUrl:function(){return"vingo"==ghtEnv.sPageName?window.location.href:[window.location.protocol,"//",window.location.host,"/v/",this._clipNo].join("")},_getEmbedUrl:function(){return[window.location.protocol,"//",window.location.host,"/embed/",this._clipNo].join("")},_isIE:function(){return navigator.userAgent.toLowerCase().indexOf("chrome")==-1&&(navigator.userAgent.toLowerCase().indexOf("msie")!=-1||navigator.userAgent.toLowerCase().indexOf("windows nt")!=-1)},_setHelpButton:function(){const helpButton=this._player.getComponent("player-help-button");!!helpButton&&jQuery(helpButton).on("click",jQuery.proxy(function(){this._nclick("plyr.helpmore")},this))},_setSubtitleButton:function(){const subtitleButton=this._player.getComponent("player-subtitle-button");!!subtitleButton&&jQuery(subtitleButton).on("click",jQuery.proxy(function(e){const event=e.originalEvent;if(this._isTextTrackOn())this._nclick("plyr.ccbtnOff");else if(this._nclick("plyr.ccbtnOn"),!this._initSubtitle){const textTracks=this._player.textTracks;try{const currentSubtitle=JSON.parse(window.localStorage.getItem("NTV_SUBTITLE_SET"));if(!currentSubtitle.kind||"metadata"==currentSubtitle.kind)return void window.localStorage.removeItem("NTV_SUBTITLE_SET");if(currentSubtitle&&textTracks.length>0){if(1==textTracks.length&&"metadata"==textTracks[0].kind)return;for(var i=0;i<textTracks.length;i++)if(textTracks[i].dataset.language==currentSubtitle.dataset.language)return event.preventDefault(),textTracks[i].mode="showing",void(this._initSubtitle=!0)}}catch(e){return}}},this))},_isTextTrackOn:function(){const textTracks=this._player.textTracks;for(var i=0;i<textTracks.length;i++)if(("showing"==textTracks[i].mode||"hidden"==textTracks[i].mode)&&"metadata"!=textTracks[i].kind)return!0;return!1},_bindEvent:function(){this._$player.on("loadedmetadata",jQuery.proxy(this._loadedMetaDataListener,this)),this._$player.on("play",jQuery.proxy(this._playListener,this)),this._$player.on("playing",jQuery.proxy(this._playingListener,this)),this._$player.on("ended",jQuery.proxy(this._endedListener,this)),this._$player.on("fullscreenchange",jQuery.proxy(this._fullscreenListener,this)),this._$player.on("volumechange",jQuery.proxy(this._volumeChangeListener,this)),this._$player.on("click",jQuery.proxy(this._clickListener,this)),this._$player.on("seeking",jQuery.proxy(this._seekingListener,this))},_loadedMetaDataListener:function(e){const self=this;this._autoPlay&&this._player.play().then(function(){})["catch"](function(){this._isVolumeChangedBySetting=!0,self._player.muted=!0,self._player.play()})["catch"](function(){self._player.muted=!1}),jQuery(this._player.textTracks).on("change",jQuery.proxy(this._textTrackChangeListener,this));const videoTracks=this._player.videoTracks;this._currentSelectedResolution=videoTracks[videoTracks.selectedIndex].label,jQuery(this._player.videoTracks).on("change",jQuery.proxy(this._videoTrackChangeListener,this));var pastVolume=window.localStorage.getItem("NTV_VOLUME_SET");pastVolume?(pastVolume=JSON.parse(pastVolume),pastVolume.expiration<(new Date).getTime()?(this._isVolumeChangedBySetting=!0,this._player.volume=.3,this._player.muted=!1,window.localStorage.setItem("NTV_VOLUME_SET",JSON.stringify(this._getVolumeObj(.3,!1)))):(this._isVolumeChangedBySetting=!0,this._player.volume=pastVolume.data.volume,this._player.muted=pastVolume.data.muted)):(this._isVolumeChangedBySetting=!0,this._player.volume=.7,this._player.muted=!1,window.localStorage.setItem("NTV_VOLUME_SET",JSON.stringify(this._getVolumeObj(.7,!1))))},_getSubtitleObj:function(textTrack){return{dataset:{language:textTrack.dataset.language,type:textTrack.dataset.type},kind:textTrack.kind}},_playListener:function(e){this._isPlay=!0,this._hasBeenPlayedToTheEnd||("undefined"!=typeof tvcast&&!!tvcast.pc&&!!tvcast.pc.PlayTimeLogger&&tvcast.pc.PlayTimeLogger.clearInterval(),"undefined"!=typeof tvcast&&!!tvcast.PlayLogger&&tvcast.PlayLogger.logStartPlay(),"undefined"!=typeof tvcast&&!!tvcast.pc&&!!tvcast.pc.PlayTimeLogger&&tvcast.pc.PlayTimeLogger.logPlayTime({apiDomain:window.ghtEnv.logApiDomain,clipNo:window.ghtEnv.nClipNo,playlistNo:window.ghtEnv.nPlaylistNo}),1==ghtEnv.bIsLogin&&"undefined"!=typeof MyPage&&MyPage.addMyPlaylist(this._serviceDomain,"recent",window.ghtEnv.nClipNo)),this._seekingTime&&0!=this._seekingTime&&(this._player.currentTime=this._seekingTime,this._seekingTime=0,this._player.play()),!!this._isTimestampReserved&&(this._player.currentTime=this._reservedTimestamp),this._isTimestampReserved=!1,this._reservedEndScreenChange&&(this._reservedEndScreenChange(),this._reservedEndScreenChange=void 0)},_playingListener:function(e){this._focus&&this._player.focus()},_endedListener:function(e){this._hasBeenPlayedToTheEnd=!0,this._isPlay=!1},_fullscreenListener:function(e){this._reservedClickEvent.isFullScreenClicked&&(e.originalEvent.state?this._nclick("plyr.fullscreen"):this._nclick("plyr.fullscreenOff"),this._reservedClickEvent.isFullScreenClicked=!1)},_textTrackChangeListener:function(e){var event=e.originalEvent;window.localStorage.setItem("NTV_SUBTITLE_SET",JSON.stringify(this._getSubtitleObj(event.track))),this._initSubtitle=!0},_videoTrackChangeListener:function(e){const target=e.originalEvent.target;target.label!=this._currentSelectedResolution&&("ABR"==target.label?this._nclick("plyr.sttresAuto"):"2160p"==target.label?this._nclick("plyr.sttres2160p"):"1440p"==target.label?this._nclick("plyr.sttres1440p"):"1080p"==target.label?this._nclick("plyr.sttres1080p"):"720p"==target.label?this._nclick("plyr.sttres720p"):"480p"==target.label?this._nclick("plyr.sttres480p"):"360p"==target.label?this._nclick("plyr.sttres360p"):"240p"==target.label?this._nclick("plyr.sttres240p"):"144p"==target.label&&this._nclick("plyr.sttres144p"),this._isSeekingBySetting=!0,this._currentSelectedResolution=target.label,this._reservedClickEvent.isResolutionClicked=!1)},_volumeChangeListener:function(){this._isVolumeChangedBySetting||(this._nclick("plyr.volume"),this._isVolumeChangedBySetting=!1),window.localStorage.setItem("NTV_VOLUME_SET",JSON.stringify(this._getVolumeObj(this._player.volume,this._player.muted)))},_clickListener:function(e){const target=e.originalEvent.target;switch(target.tagName){case"PLAYER-SCREEN-BUTTON":this._reservedClickEvent.isFullScreenClicked=!0;break;case"PLAYER-VOLUME-BUTTON":this._player.muted?this._nclick("plyr.soundoff"):this._nclick("plyr.soundon");break;case"PLAYER-SUBTITLE-BUTTON":break;case"PLAYER-NEXT-BUTTON":this._nclick("plyr.nextbtn");break;case"PLAYER-PREV-BUTTON":this._nclick("plyr.prevbtn");break;case"PLAYER-RECOMM-CARD":this._nclick("plyr.recommendPly");break;case"PLAYER-LAYER-START-END":this._player.ended&&this._nclick("plyr.replay");break;case"PLAYER-RELOAD-BUTTON":this._nclick("plyr.replay");break;case"PLAYER-SETTING-BUTTON":this._nclick("plyr.sttbtn");break;case"PLAYER-SETTING-QUALITY":this._reservedClickEvent.isResolutionClicked=!0;break;case"PLAYER-LIKE-BUTTON":this._player.getComponent("player-like-button").getAttribute("isPressed")?this._nclick("plyr.like"):this._nclick("plyr.likeOff");break;case"PLAYER-LATER-BUTTON":this._nclick("plyr.later");break;case"PLAYER-LAYOUT":this._player.paused?this._nclick("plyr.playClick"):this._nclick("plyr.stopClick");break;case"PLAYER-PLAY-PAUSE-BUTTON":this._player.paused?this._nclick("plyr.playbtn"):this._nclick("plyr.stopbtn");break;case"PLAYER-VIEWMODE-BUTTON":this._isExpanded?this._nclick("plyr.widescreen"):this._nclick("plyr.widescreenOff");break;case"PLAYER-SETTING-SPEED":}},_nclick:function(code){"undefined"!=typeof clickcr&&clickcr("",code,"","","")},_seekingListener:function(e){this._isSeekingBySetting?this._isSeekingBySetting=!1:this._nclick("plyr.seekBar")},_getVolumeObj:function(volume,muted){const currentTime=(new Date).getTime(),expirationPeriod=2592e6;return{data:{volume:volume,muted:muted},expiration:currentTime+expirationPeriod,creation:currentTime}},_setSource:function(){var authState=this._playerAuth,isNotAuth="notLogin"==authState||"notSafe"==authState||"notAdult"==authState,isNotCountry="notCountry"==authState;if(isNotAuth||isNotCountry?this._$playerEl.hide():this._$playerEl.show(),isNotAuth?this._$playerAuth.show():this._$playerAuth.hide(),isNotCountry?this._$playerCountry.show():this._$playerCountry.hide(),isNotAuth||isNotCountry)this._player.exitFullscreen(),this._player.pause();else{this._player.getComponent("player-layer-content-rate").setAttribute("allow",!!this._isAdult);var src="vod://"+this._sid+":"+this._inKey+"@"+this._videoId+"?";!!this._externalTrackingDataJson&&(src+="etd="+encodeURIComponent(this._externalTrackingDataJson)),src=src+"&providerEnv="+this._environment+"#",!!this._startTime&&0!=this._startTime&&(src+="t="+this._startTime+"&"),!!this._defaultResolution&&(src+="track="+this._defaultResolution+"&"),this._player.src=src}},_setGladSource:function(){var self=this;gladRequest=new naver.player.GLADRequest,_gladMediaParams={},"NAVER"===this._gladParam.sid?_gladMediaParams={pcmo:"pc",ac:"HTML5_PC",calp:this._gladParam.calp,cp:this._gladParam.cp,chl:this._gladParam.chl,cl:this._gladParam.cl,svc:this._gladParam.svc,cc:this._gladParam.cc,v_theme:this._gladParam.vtheme,ctry:this._gladParam.ctry,AreaId:"clip"}:"SMR"===this._gladParam.sid?_gladMediaParams={pcmo:"pc",ac:"HTML5_PC",sid:this._gladParam.sid,vid:this._gladParam.vid,al:this._gladParam.smrAdLink}:"VINGO"===this._gladParam.sid&&(_gladMediaParams={pcmo:"pc",ac:"HTML5_PC",sid:this._gladParam.sid,vid:this._gladParam.vid,uid:this._gladParam.uid,poc:this._gladParam.poc,ctg:this._gladParam.ctg,gnr:this._gladParam.gnr,chnl:this._gladParam.chnl,prg:this._gladParam.prg,ep:this._gladParam.ep,ta:this._gladParam.ta}),gladRequest.setVideoScheduleInfo({videoAdScheduleId:this._gladParam.videoAdScheduleId,divId:"player",playerInfo:{playerType:"HTML5_PC",locale:"ko"},scheduleParam:{},adRequestParam:{targeting:{},mediaParams:_gladMediaParams},adNoticeDurationSec:5}),gladRequest.setAdSchedulePolicy({pre:this._gladParam.videoAdSchedulePolicy.pre,mid:this._gladParam.videoAdSchedulePolicy.mid,post:this._gladParam.videoAdSchedulePolicy.post}),this._player.adsController.srcObject=gladRequest,jQuery(this._player.adsController).on(naver.player.AdEventTypes.NonLinearAdReady,function(event){var clientWidth=self._player.clientWidth,clientHeight=self._player.clientHeight,adApiFramework=event.originalEvent.ad.adApiFramework;"NDA.RemindBanner"===adApiFramework?event.originalEvent.ad.initAd(clientWidth,clientHeight,"normal",0,void 0,{isShareType:self._isShareType,container:self._player.adOverlaySlot}):"NDA.RemindText"===adApiFramework&&event.originalEvent.ad.initAd(clientWidth,clientHeight,"normal",0,void 0,{container:self._player.adOverlaySlot,productType:"Inner_TextView",isShareType:self._isShareType,isMobileHome:!1}),event.originalEvent.ad.startAd()}),jQuery(this._player.adsController).on(naver.player.AdEventTypes.AdStarted,jQuery.proxy(function(e){this._isShowingAd=!0},this)),jQuery(this._player.adsController).on(naver.player.AdEventTypes.AdStopped,jQuery.proxy(function(e){this._isShowingAd=!1,this._isAdStopped=!1},this)),jQuery(this._player.adsController).on(naver.player.AdEventTypes.AdPaused,jQuery.proxy(function(e){this._nclick("plyr.adstopbtn"),this._isAdStopped=!0},this)),jQuery(this._player.adsController).on(naver.player.AdEventTypes.AdPlaying,jQuery.proxy(function(e){this._isAdStopped&&this._nclick("plyr.adplaybtn")},this)),jQuery(this._player.adsController).on(naver.player.AdEventTypes.AdSkipped,jQuery.proxy(function(e){this._nclick("plyr.adskipbtn")},this))},nonLinearAdBannerWrap:function(on){this._isShareType=on;var nonLinears=this._player.adsController.nonLinearAds;if(nonLinears)for(i=0;i<nonLinears.length;++i)nonLinears[i].environmentVars=jQuery.extend({},nonLinears[i].environmentVars,{isShareType:on})},adResized:function(width,height,viewMode){this._player.adsController.resizeAd(width,height,viewMode)},adResizedReset:function(){this._player.adsController.resizeAd(this._player.clientWidth,this._player.clientHeight,"normal")},updateSource:function(options){if(this._playerAuth=options.playerAuth,this._sid=options.rmcSid,this._inKey=options.inKey,this._videoId=options.videoId,this._currentClip=options.clip,this._clipNo=options.clipNo,this._externalTrackingDataJson=options.smrTrackingData,this._isAdult="Y"==options.adultYn,this._reservedEndScreenChange=void 0,this._isTimestampReserved=!1,this._initSubtitle=!1,this._hasBeenPlayedToTheEnd=!1,this._gladParam=options.gladParam,"true"==window.ghtEnv.nstoreFreeMovie||"true"==options.nstoreFreeMovie){var NFM_cookie=jQuery.cookie("NFM_TV");NFM_cookie&&"true"==NFM_cookie||(this._autoPlay=!1)}else this._autoPlay=options.autoPlay;this._setSource(),""!=typeof this._gladParam&&null!=this._gladParam&&void 0!=this._gladParam&&this._setGladSource()},setHandOff:function(handOff,category,contentId,apiDomain){this._player&&handOff.Video.init(this._player,{category:category,contentId:contentId,apiDomain:apiDomain})},exposeWideButton:function(on){const component=this._player.getComponent("player-viewmode-button");!!component&&(component.style.display=on?"":"none")},exposeSettingButton:function(on){const component=this._player.getComponent("player-setting-button");!!component&&(component.style.display=on?"":"none"),!!component&&!on&&component.setAttribute("isExpanded",!1)},exposeLikeButton:function(on){const component=this._player.getComponent("player-like-button");!!component&&(component.style.display=on?"":"none")},exposeChannelSubscriptionPanel:function(on){const component=this._player.getComponent("player-channel-subscription-panel");!!component&&(component.style.display=on?"":"none")},exposeWatchLaterButton:function(on){const component=this._player.getComponent("player-later-button");!!component&&(component.style.display=on?"":"none")},exposePlayPauseButton:function(on){const component=this._player.getComponent("player-play-pause-button");!!component&&(component.style.display=on?"":"none")},exposeSubtitleButton:function(on){const component=this._player.getComponent("player-subtitle-button");!!component&&(component.style.display=on?"":"none")},exposeSubtitle:function(on){const component=this._player.getComponent("player-subtitle");!!component&&!!component.style&&(component.style.display=on?"inline":"none")},exposeHelpButton:function(on){const component=this._player.getComponent("player-help-button");!!component&&(component.style.display=on?"":"none")},exposeContentInfoExcludingSubject:function(){this._clearContentInfoExcludingSubject(),this._$player.on("loadedmetadata",jQuery.proxy(this._clearContentInfoExcludingSubject,this))},_clearContentInfoExcludingSubject:function(){const component=this._player.getComponent("player-content-info");component&&(component.setAttribute("userName",null),component.setAttribute("playCount",null),component.setAttribute("likeCount",null))},exposeNextPanel:function(on){const component=this._player.getComponent("player-next-panel");!!component&&(component.style.display=on?"":"none")},exposePrevPanel:function(on){const component=this._player.getComponent("player-prev-panel");!!component&&(component.style.display=on?"":"none")},exposeContextMenu:function(menus){var contextMenu=menus.map(function(menu){return"copyurl"==menu?{id:"copyurl",text:"copy_url",link:""}:"copyurltime"==menu?{id:"copyurltime",text:"copy_url_current_time",link:""}:"copysourcecode"==menu?{id:"copysourcecode",text:"copy_source",link:""}:{}});const component=this._player.getComponent("player-context-menu");!!component&&component.setAttribute("items",contextMenu)},exposeSettingMenu:function(menus){const settingMenus=menus.map(function(menu){return{id:menu}}),component=this._player.getComponent("player-control-settings");!!component&&component.setAttribute("options",settingMenus)},enableSeekingBar:function(on){const component=this._player.getComponent("player-progress-slider");!!component&&component.setAttribute("enabled",on)},enableTopGroup:function(on){const component=this._player.getComponent("player-layout");!!component&&component.setAttribute("enableTopGroup",on)},enablePlayPause:function(on){this._player.querySelector('command[name="togglePlay"]').setAttribute("enabled",on),this._player.querySelector('command[name="seekBackward"]').setAttribute("enabled",on),this._player.querySelector('command[name="seekForward"]').setAttribute("enabled",on)},setRecommendPageMove:function(move){const component=this._player.getComponent("player-layer-recomm");!!component&&component.setAttribute("target",move)},setEndStatus:function(status){var endScreen;const layerNext=this._player.getComponent("player-layer-next"),layout=this._player.getComponent("player-layout");if(layerNext){if("stop"===status)endScreen=3,this._player.ended?this._reservedEndScreenChange=jQuery.proxy(function(){layerNext.setAttribute("backgroundUrl","")},this):layerNext.setAttribute("backgroundUrl",""),this._player.loop=!1;else if("nextPlay"===status){endScreen=1;const backGroundUrl=this._photoInfraUrl+this._nextClip.thumbnail+"?type=f690_388_blend";this._player.ended?this._reservedEndScreenChange=jQuery.proxy(function(){layerNext.setAttribute("backgroundUrl",backGroundUrl),layerNext.setAttribute("subject",this._nextClip.title),layerNext.setAttribute("author",this._nextClip.channelName)},this):(layerNext.setAttribute("backgroundUrl",backGroundUrl),layerNext.setAttribute("subject",this._nextClip.title),layerNext.setAttribute("author",this._nextClip.channelName)),this._player.loop=!1}else if("replay"===status)endScreen=3,this._player.ended?this._reservedEndScreenChange=jQuery.proxy(function(){layerNext.setAttribute("backgroundUrl",""),layerNext.setAttribute("subject",""),layerNext.setAttribute("author","")},this):(layerNext.setAttribute("backgroundUrl",""),layerNext.setAttribute("subject",""),layerNext.setAttribute("author","")),this._player.loop=!0;else{if("recommend"!==status)return;endScreen=2,this._player.ended?this._reservedEndScreenChange=jQuery.proxy(function(){layerNext.setAttribute("backgroundUrl","")},this):layerNext.setAttribute("backgroundUrl",""),this._player.loop=!1}!!layout&&layout.setAttribute("endScreen",endScreen)}},play:function(){this._player.play()},bindLoadedMetaData:function(f){!!f&&this._$player.on("loadedmetadata",f)},bindLoadstartEvent:function(f){!!f&&this._$player.on("loadstart",f)},bindCanplayEvent:function(f){!!f&&this._$player.on("canplay",f)},bindPlayEvent:function(f){!!f&&this._$player.on("play",f)},bindPauseEvent:function(f){!!f&&this._$player.on("pause",f)},bindEndedEvent:function(f){!!f&&this._$player.on("ended",f)},bindFullscreenChangeEvent:function(f){!!f&&this._$player.on("fullscreenchange",f)},bindLayerNextComponentEvent:function(eventType,f){const component=this._player.getComponent("player-layer-next");!!component&&jQuery(component).on(eventType,f)},bindWideButtonComponentEvent:function(eventType,f){const component=this._player.getComponent("player-viewmode-button");!!component&&jQuery(component).on(eventType,f)},bindLikeButtonComponentEvent:function(eventType,f){const component=this._player.getComponent("player-like-button");!!component&&jQuery(component).on(eventType,f)},bindNextButtonComponentEvent:function(eventType,f){const component=this._player.getComponent("player-next-button");!!component&&jQuery(component).on(eventType,f)},bindPrevButtonComponentEvent:function(eventType,f){const component=this._player.getComponent("player-prev-button");!!component&&jQuery(component).on(eventType,f)},bindChannelSubscriptionButtonComponentEvent:function(eventType,f){const component=this._player.getComponent("player-channel-subscription-button");!!component&&jQuery(component).on(eventType,f)},getCurrentTime:function(){return this._player.currentTime},getDuration:function(){return this._player.duration},setTimestamp:function(t,stopCallback,adCallback,callback){this._isStop()||this._isPostAd()?stopCallback():this._isShowingAd?(this._isTimestampReserved=!0,this._reservedTimestamp=t,adCallback()):(this._player.currentTime=t,this._player.play(),callback())},_isStop:function(){return this._player.paused&&!this._isShowingAd&&!this._isPlay},_isPostAd:function(){return this._player.paused&&this._isShowingAd&&this._player.ended},pause:function(){this._player.pause()},isRepeated:function(){return this._hasBeenPlayedToTheEnd},isAutoPlay:function(){return!!this._player.autoplay},isExpanded:function(){return!!this._isExpanded},expand:function(on){this._isExpanded=on;const wideButton=this._player.getComponent("player-viewmode-button");!!wideButton&&wideButton.setAttribute("wideview",on)},setNextClip:function(clip){const controlButtons=this._player.getComponent("player-control-buttons"),nextPanel=this._player.getComponent("player-next-panel");clip&&controlButtons&&"player"==this._playerAuth&&(controlButtons.setAttribute("nextImage",this._photoInfraUrl+clip.thumbnail+"?type=f120_68_blend"),controlButtons.setAttribute("nextSubject",clip.title),controlButtons.setAttribute("nextDuration",clip.duration),controlButtons.setAttribute("nextAuthor",clip.channelName),!!nextPanel&&"Y"==clip.isAdult&&nextPanel.classList.add("rmc_adult"),this._nextClip=clip)},setPrevClip:function(clip){const controlButtons=this._player.getComponent("player-control-buttons"),prevPanel=this._player.getComponent("player-prev-panel");clip&&controlButtons&&(controlButtons.setAttribute("prevImage",this._photoInfraUrl+clip.thumbnail+"?type=f120_68_blend"),controlButtons.setAttribute("prevSubject",clip.title),controlButtons.setAttribute("prevDuration",clip.duration),controlButtons.setAttribute("prevAuthor",clip.channelName),!!prevPanel&&"Y"==clip.isAdult&&prevPanel.classList.add("rmc_adult"))},clearNextClip:function(){const controlButtons=this._player.getComponent("player-control-buttons"),nextPanel=this._player.getComponent("player-next-panel"),nextButton=this._player.getComponent("player-next-button");controlButtons&&(controlButtons.setAttribute("nextImage",null),controlButtons.setAttribute("nextTitle",null),controlButtons.setAttribute("nextAuthor",null),controlButtons.setAttribute("nextDuration",0)),!!nextPanel&&nextPanel.classList.remove("rmc_adult"),!!nextButton&&jQuery(nextButton).off("click")},clearPrevClip:function(){const controlButtons=this._player.getComponent("player-control-buttons"),prevPanel=this._player.getComponent("player-prev-panel"),prevButton=this._player.getComponent("player-prev-button");controlButtons&&(controlButtons.setAttribute("prevImage",null),controlButtons.setAttribute("prevTitle",null),controlButtons.setAttribute("prevAuthor",null),controlButtons.setAttribute("prevDuration",0)),!!prevPanel&&prevPanel.classList.remove("rmc_adult"),!!prevButton&&jQuery(prevButton).off("click")},clear:function(){this._player.srcObject=null},isLiked:function(){const component=this._player.getComponent("player-like-button");return!!component&&component.getAttribute("isPressed")},setLikeButton:function(on){const component=this._player.getComponent("player-like-button");!!component&&component.setAttribute("isPressed",on)},setLikeCount:function(count){const component=this._player.getComponent("player-content-info");!!component&&component.setAttribute("likeCount",count)},isSubscribed:function(){const component=this._player.getComponent("player-channel-subscription-panel");return!!component&&component.getAttribute("isSubscribed")},setSubscribed:function(on){const component=this._player.getComponent("player-channel-subscription-panel");!!component&&component.setAttribute("isSubscribed",on)},setSubscribeCount:function(count){const component=this._player.getComponent("player-channel-subscription-panel");!!component&&component.setAttribute("count",this._getFormattedNumber(count))},smallSize:function(on){this._player.getComponent("player-layout").setAttribute("sizeType",on?"small":"")}};